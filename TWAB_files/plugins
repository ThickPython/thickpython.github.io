var Accordion=function(n,t){(this.$element=n.eq(0),this.$element.length<1)||(this.config={startOpen:0,openDuration:500,closeTheOthers:!0,animation:!0,startAllOpen:!1},t&&$.extend(this.config,t),this.$element.addClass("accordion"),this.$triggers=this.$element.find(".trigger"),(this.config.startOpen>this.$triggers.length+1||this.config.startOpen<-1)&&(this.config.startOpen=-1),this.$collapsibles=this.$element.find(".collapsible"),this.initialize())},Animator,CountDown,CountUp,CounterSpinner,TimeCounter,ExtraInfoTip,LightBox,PanelSlider_circular,RangeSlider,ScrollPaging,SimpleDialog,addMouseMoveListener,addPointerListeners;Accordion.prototype.initialize=function(){this.addEventListeners();this.config.startOpen>-1?this.$triggers.eq(this.config.startOpen).trigger("click.accordion"):this.config.startAllOpen&&this.$triggers.each(function(){$(this).parent().addClass("open")})};Accordion.prototype.openTargetedAndCloseOthers=function(n){var i=this,t=this.$triggers.eq(n);t.parent().addClass("open");this.openCollapsed(t);this.$triggers.not(t).each(function(){i.closeOpened($(this))})};Accordion.prototype.addEventListeners=function(){var n=this;this.$triggers.off(".accordion");this.$triggers.on("click.accordion",function(t){t.preventDefault();$this=$(this);$this.parent().hasClass("open")?n.closeOpened($this):n.openCollapsed($this)})};Accordion.prototype.openCollapsed=function(n){var t=n.parent(),i=t.find(".collapsible");this.config.animation&&i.stop().slideDown(this.config.openDuration);t.addClass("open");this.config.closeTheOthers&&(this.config.animation&&this.config.animation&&this.$collapsibles.not(i).stop().slideUp(this.config.openDuration),t.siblings(".open").removeClass("open"))};Accordion.prototype.closeOpened=function(n){var t=n.parent();this.config.animation&&t.find(".collapsible").stop().slideUp(this.config.openDuration);t.removeClass("open")};Animator=function(){this.delayClass="on";this.removeClass="off";this.pingClass="ping";this.delayInMs=40;this.afterEach=function(){};this.afterAll=function(){};this.usePing=!0;this.slideDuration=500;this.pingDelay=1e3};Animator.prototype.genericDelayClass=function(n){var t=this,r=n.length,u=performance.now(),i=function(){var o=performance.now()-u,f=n.not(t.delayClass),e;t.delayInMs>0&&(e=Math.floor(o/t.delayInMs),f=n.filter(":lt("+e+")").not(t.delayClass));f.length&&f.addClass(t.delayClass).removeClass(t.removeClass);e<r?window.requestAnimationFrame(function(){i()}):t.afterAll()};i()};Animator.prototype.genericDelayOffClass=function(n){var t=this,i=0;n.each(function(){var n=$(this);setTimeout(function(){n.removeClass(t.delayClass).addClass(t.removeClass)},i);i+=t.delayInMs});setTimeout(function(){t.afterAll()},t.delayInMs*(n.length-1))};Animator.prototype.slidedown=function(n){var t=this,i=0;n.css("opacity",1).hide().removeClass(t.pingClass);n.each(function(){var n=$(this);setTimeout(function(){t.usePing&&n.addClass(t.pingClass);n.slideDown({duration:t.slideDuration,easing:"easeOutQuad",complete:function(){setTimeout(function(){n.removeClass("ping")},t.pingDelay)}});typeof callback=="function"&&this.afterEach()},i);i+=t.delayInMs});setTimeout(function(){t.afterAll()},t.delayInMs*(n.length-1))};CountDown=function(n,t){if(!(n.length<1)){this.$element=n;var i=this.calculateTimeLeft(t);this.countdown(i)}};CountDown.prototype.calculateTimeLeft=function(n){return Math.round((n-new Date)/1e3)};CountDown.prototype.countdown=function(n){var i=this,t=Utility.timerCountDown(n);this.updateDOM(t.days,t.hours,t.minutes,t.seconds);n-=1;setTimeout(function(){i.countdown(n)},1e3)};CountDown.prototype.updateDOM=function(n,t,i,r){var u=Localizer.fnStringReplace(Localizer.Time.timeformatdhms,{days:n,hours:t,minutes:i,seconds:r});this.$element.html(u)};CountUp=function(n,t,i){n.length&&typeof t!="undefined"&&(this.$element=n.eq(0),this.updateSelector=t,this.config={timeSelector:"time",timeUnits:{second:{single:" "+Localizer.Time.second,plural:Localizer.Time.seconds},minute:{single:" "+Localizer.Time.minute,plural:Localizer.Time.minutes},hour:{single:" "+Localizer.Time.hour,plural:Localizer.Time.hours},day:{single:" "+Localizer.Time.day,plural:Localizer.Time.days}},pluralUnits:!0,isShortened:!1,dataAttributeForDate:"datetime"},i&&$.extend(this.config,i),this.initialize())};CountUp.prototype.initialize=function(){typeof this.refreshTimeout!="undefined"&&clearTimeout(this.refreshTimeout);this.paused=!1;this.setupEl(this.$element)};CountUp.prototype.setupEl=function(n){var t=n.find(this.config.timeSelector).eq(0).attr("datetime")||n.find(this.config.timeSelector).eq(0).attr("data-"+this.config.dataAttributeForDate);(typeof t=="undefined"||t==="")&&(t=n.find(this.config.timeSelector).eq(0).text());var i=new Date(t),u=new Date,r=i.getTime();this.countup(r,n)};CountUp.prototype.countup=function(n,t){var o=this.config.isShortened,i,s,h,c;if($(".Nav_Top").find(t).length&&(o=!0),(t.hasClass("statusTextContainer")||t.hasClass("useShortFormat"))&&(o=!0),!this.paused){var l=this,a=new Date,f=a.getTime()-n,u=5184e6,e="",r="";$.isNumeric(f)?(i=Utility.timerCountUp(f),f<=6e4?(u=3e4,e=this.config.timeUnits.second,r=Localizer.Time.timeformatoneminuteago):i.days>365?o?(r=Utility.getLocalTimeString(n,!0,!0),s=new Date(n).getFullYear(),Localizer.CurrentCultureName=="ja"&&(s=s+Localizer.Time.year),r+=" "+s):r=Utility.getLocalTimeString(n,!1):i.days>0?o?(h=moment(n),c=moment().subtract(2,"days"),r=i.days>0&&i.days<3&&h.isBefore(c)?Localizer.fnStringReplace(Localizer.Time.timeformathago,{hours:(i.hours===0?24:i.hours)+i.days*24}):i.days>0&&i.days<8?Localizer.Time["dayweekabbr"+new Date(n).getDay()]:Utility.getLocalTimeString(n,!0,!0)):r=Utility.getLocalTimeString(n,!0):(i.days>0?r=Localizer.fnStringReplace(Localizer.Time.timeformatdhmago,{days:i.days,hours:i.hours,minutes:i.minutes}):i.hours>0?r=Localizer.fnStringReplace(Localizer.Time.timeformathmago,{hours:i.hours,minutes:i.minutes}):i.minutes>0&&(r=Localizer.fnStringReplace(Localizer.Time.timeformatmago,{minutes:i.minutes})),u=3e4),this.config.pluralUnits&&(e=Math.round(f/u)>1?e.plural:e.single),r===""&&(r=Localizer.CurrentCultureName=="fr-FR"?Math.round(f/u).toString()+e:Math.round(f/u).toString()+e),this.updateDOM(r,t),typeof this.refreshTimeout!="undefined"&&clearTimeout(this.refreshTimeout),u===3e4&&(this.refreshTimeout=setTimeout(function(){l.countup(n,t)},u))):clearTimeout(this.refreshTimeout)}};CountUp.prototype.updateDOM=function(n,t){t.find(this.updateSelector).eq(0).html(n)};CountUp.prototype.updateDOMWithCounter=function(n,t,i,r,u){var f="";n>0?f=Localizer.fnStringReplace(Localizer.Time.timeformatdhmago,{days:n,hours:t,minutes:i}):t>0?f=Localizer.fnStringReplace(Localizer.Time.timeformathmago,{hours:t,minutes:i}):i>0&&(f=Localizer.fnStringReplace(Localizer.Time.timeformatmago,{minutes:i}));u.find(this.updateSelector).html(f)};CountUp.prototype.stopCounting=function(){this.paused=!0};CountUp.prototype.addNewEl=function(n){this.$element=this.$element.add(n);this.setupEl(n)};CounterSpinner=function(n,t){var u,f,o,r;if(!(n.length<1)){this.$element=n;u=this.$element.find(".numberWrapper").eq(0);f=this.$element.find(".comma").eq(0);this.config={speed:1e3,delay:0,numberHeight:u.outerHeight(),numberWidth:u.outerWidth(),commaHeight:f.outerHeight(),commaWidth:f.outerWidth(),skipNumber:1};t&&$.extend(this.config,t);this.speed=this.config.speed;this.delay=this.config.delay;this.numberHeight=this.config.numberHeight;this.skipNumber=this.config.skipNumber;o=this;this.transEndEventName=Utility.getTransitionEndName();this.$element.addClass("counterSpinner");var i=this.$element.find(".numberContainer"),h=i.find(".numberWrapper"),e=i.last(),s=e.find(".numberWrapper").get(0);for(e.addClass("active"),this.addTransitions(i),r=0;r<i.length;r++)this.setup(i.eq(r));this.makeSpinDecisions(s,!0,!0)}};CounterSpinner.prototype.addTransitions=function(n){var f=this,u=Utility.getTransitionLongHand(),t=n.find(".numberWrapper"),i,r;for(t.addClass("transitions"),i=0;i<t.length;i++)r=t.get(i),r.style[u.transitionDuration]=this.speed+"ms",r.style[u.transitionDelay]=this.delay+"ms",r.style[u.transitionTimingFunction]="linear";t.bind(this.transEndEventName,function(){$(this).parent().hasClass("active")?f.makeSpinDecisions(this,!0,!0):f.makeSpinDecisions(this,!1,!0)})};CounterSpinner.prototype.setup=function(n){var t=parseFloat(n.text()),r=n.get(0),i=n.find(".numberWrapper");this.insertNumbers(n,i,t)};CounterSpinner.prototype.changeTransitionSpeed=function(n){var r=Utility.getTransitionLongHand(),t,i;for($numberWrappers=$(".numberWrapper"),t=0;t<$numberWrappers.length;t++)i=$numberWrappers.get(t),i.style[r.transitionDuration]=n+"ms"};CounterSpinner.prototype.changeTransitionDelay=function(n){var r=Utility.getTransitionLongHand(),t,i;for($numberWrappers=$(".numberWrapper"),t=0;t<$numberWrappers.length;t++)i=$numberWrappers.get(t),i.style[r.transitionDelay]=n+"ms"};CounterSpinner.prototype.makeSpinDecisions=function(n,t,i){var c=this,l=$(n),r=l.parent(),o=n.parentNode,u=r.prevAll(".numberContainer").first(),a=$.data(o,"scrolled"),f=0,s,e,h;t&&(s=$.data(o,"heightToZero"),e=0,f=this.getNextPosition(r),f===s&&(u.length?(e=this.getNextPosition(u),this.scrollUp(u.find(".numberWrapper").get(0),e)):h=setTimeout(function(){c.createNewNumber(r);clearTimeout(h)},this.delay)));i&&(a===-(this.numberHeight*10)?this.reset(r):r.hasClass("active")&&this.scrollUp(n,f))};CounterSpinner.prototype.getNextPosition=function(n){var t=$.data(n.get(0),"scrolled");return n.hasClass("active")?t-this.numberHeight*this.skipNumber:t-this.numberHeight};CounterSpinner.prototype.createNewNumber=function(n){var i=n.parent(),u=i.children(".numberContainer").length,t,r;u%3==0&&i.prepend('<div class="comma"><\/div>');t=$('<div class="numberContainer"><div class="numberWrapper"><span>1<\/span><\/div><\/div>');r=t.find(".numberWrapper");i.prepend(t);this.insertNumbers(t,r,1);this.addTransitions(t)};CounterSpinner.prototype.insertNumbers=function(n,t,i){for(var f=-this.numberHeight,u="",r=i;r<9;r++)u+="<span>"+(r+1)+"<\/span>",f-=this.numberHeight;for(r=0;r<i+1;r++)u+="<span>"+r+"<\/span>";t.append(u);$.data(n.get(0),"heightToZero",f);$.data(n.get(0),"scrolled",0)};CounterSpinner.prototype.scrollUp=function(n,t){$numberContainer=$(n).parent();$numberContainer.hasClass("active")||this.makeSpinDecisions(n,!0,!1);Utility.moveElement(0,t,n);$.data(n.parentNode,"scrolled",t)};CounterSpinner.prototype.reset=function(n){var i=n.get(0),u=n.find(".numberWrapper"),t=i.firstChild,r=this,f;Modernizr.csstransforms?(u.removeClass("transitions"),$.data(i,"scrolled",0),t.style.MozTransform="translate(0,0)",f=setTimeout(function(){u.addClass("transitions");n.hasClass("active")&&(r.makeSpinDecisions(t,!0,!0),r.scrollUp(t,-r.numberHeight));clearTimeout(f)},0)):t.style.top="0";$.data(i,"scrolled",0)};TimeCounter=function(n,t){this.intervalId=null;this.countThisMuch=null;this.currentDiff=0;this.currentVal=0;this.$element=n;this.config={startSeconds:10,direction:"down",interval:1e3,stopAt:0,increment:1,startImmediately:!1,outputFormat:"HH:mm:ss"};t&&$.extend(this.config,t);this.config.startImmediately&&this.start()};TimeCounter.prototype.start=function(){var n=this;this.currentVal=this.config.startSeconds;this.updateEl();this.countThisMuch=(this.config.direction=="up"?1:-1)*this.config.increment;this.intervalId=setInterval(function(){n.count()},this.config.interval)};TimeCounter.prototype.count=function(){this.currentDiff+=this.countThisMuch;this.currentVal=this.config.startSeconds+this.currentDiff;this.config.direction=="up"&&this.currentVal>=this.config.stopAt?this.endTimer():this.config.direction!="up"&&this.currentVal<=this.config.stopAt&&this.endTimer();this.updateEl()};TimeCounter.prototype.endTimer=function(){clearTimeout(this.intervalId)};TimeCounter.prototype.updateEl=function(){var n=Date.parse("0").addSeconds(this.currentVal).toString(this.config.outputFormat);this.$element.text(n)},function(n){var i={margin:5,minHeight:20,nearBottomThresholdPercent:.8,nearBottomScrollTimeoutMs:1e3,isDragging:!1,lastPos:0,scrollTray:!0,preventBodyScroll:!0,forcePreventBodyScroll:!1,isScrollableHeight:!0,overrideDefaultScrollBehavior:!0,hideUnusedTray:!1,onScroll:function(){},afterScroll:function(){},nearBottomScroll:function(){},nearBottomScrollTimeout:null,mobileExempt:!1},t={init:function(r){var r=r||{};if(typeof r=="undefined"||typeof r.mobileExempt=="undefined"||!Modernizr.mobile||!r.mobileExempt)return this.each(function(){var u=this;u.customScrollOpts=n.extend({},i,r);n(u).data("customScrollOpts",u.customScrollOpts);n(u).data("customScrollInit")?typeof r=="string"&&t[r].apply(u):t.onCreation.apply(u)})},update:function(){var i=this;n(i).children().length<2||setTimeout(function(){t.positionHandle.apply(i,[])},30)},reset:function(){var t=this;t.customScrollOpts=n(t).data("customScrollOpts");n(t).scrollTop(0)},scrollTo:function(t,i){var r=this,u;r.customScrollOpts=n(r).data("customScrollOpts");i=i||0;u=t!=null?t.offset().top-n(r).offset().top+n(r).scrollTop()+i:i;n(r).animate({scrollTop:u},150)},onCreation:function(){var i=this,r,u;n(i).unbind(".jqcs");n(i).addClass("customScroll").data("customScrollInit",window.location.href);r=n("<i class='customScrollTray'>").append(n("<i class='customScrollHandle'>"));n(i).prepend(r);n(window).on({"load.jqcs":function(){n(i).data("customScrollInit")&&t.positionHandle.apply(i,[]);n(this).unbind("load.jqcs")},"mouseup.jqcs":function(){i.customScrollOpts.isDragging=!1;n(i).removeClass("customScrollDragging");i.customScrollOpts.lastPos=i.scrollTop;n(window).unbind("mousemove.jqcs")}});n(i).on({"mousewheel.jqcs":function(r){n(i).is(".noScroll")||t.onScroll.apply(i,[r])},"scroll.jqcs mouseenter.jqcs":function(){if(!n(i).is(".noScroll")){i.customScrollOpts.onScroll(n(i));t.positionHandle.apply(i,[]);i.customScrollOpts.afterScroll(n(i))}}});n(".customScrollHandle",i).on({"mousedown.jqcs":function(r){r.originalEvent.preventDefault();i.customScrollOpts.isDragging=!0;u=r.pageY;n(i).addClass("customScrollDragging");n(window).on("mousemove.jqcs",function(n){i.customScrollOpts.isDragging&&t.onDrag.apply(i,[n,u])})}})},destroy:function(){var t=this,i=n(t);i.unbind(".jqcs");i.removeClass("customScroll");n(t).find(".customScrollTray").remove()},onScroll:function(i){var r=this,u,f;if(r.customScrollOpts=n(r).data("customScrollOpts"),r.customScrollOpts.onScroll(),r.customScrollOpts.forcePreventBodyScroll&&i.preventDefault(),u=i.deltaY*i.deltaFactor||i.originalEvent.wheelDelta||-i.originalEvent.detail,f=n(r).scrollTop()/(r.scrollHeight-n(r).outerHeight()),r.customScrollOpts.overrideDefaultScrollBehavior&&(i.stopImmediatePropagation(),(r.customScrollOpts.preventBodyScroll||f!=1&&!r.customScrollOpts.preventBodyScroll)&&i.preventDefault(),r.scrollTop+=-u,r.customScrollOpts.lastPos=r.scrollTop),f==1&&r.customScrollOpts.preventBodyScroll&&u<0&&r.customScrollOpts.isScrollableHeight){i.preventDefault();return}n(r).trigger("customScroll");t.positionHandle.apply(r,[]);r.customScrollOpts.afterScroll(n(r))},onDrag:function(t,i){var r=this;r.customScrollOpts=n(r).data("customScrollOpts");var e=n(".customScrollHandle",r),u=r.scrollHeight/n(r).height(),f=r.customScrollOpts.lastPos+(t.pageY-i)*u;n(r).scrollTop(f)},positionHandle:function(){var t=this,i,e;t.customScrollOpts=n(t).data("customScrollOpts");var h=n(".customScrollHandle",t),r=n(t),c=t.scrollHeight-t.customScrollOpts.margin*2,o=n(t).scrollTop()/(t.scrollHeight-n(t).outerHeight()),u=n(t).height()/c,l=Math.max(t.customScrollOpts.minHeight,u*r.height()),a=r.height()-t.customScrollOpts.minHeight,s=Math.min(a,(1-u)*r.height()),v=s*o,f=Math.max(t.customScrollOpts.margin,v);f=Math.min(f,s-t.customScrollOpts.margin);Math.floor(u)>=.99?(n(t).addClass("customScrollOff"),t.customScrollOpts.isScrollableHeight=!1):n(t).removeClass("customScrollOff");o>=t.customScrollOpts.nearBottomThresholdPercent&&(t.customScrollOpts.nearBottomScrollTimeout===null&&t.customScrollOpts.nearBottomScroll(n(t)),t.customScrollOpts.nearBottomScrollTimeout=setTimeout(function(){t.customScrollOpts.nearBottomScrollTimeout=null},t.customScrollOpts.nearBottomScrollTimeoutMs));h.css({top:f,height:l});t.customScrollOpts.scrollTray&&(i=n(".customScrollTray",t),t.customScrollOpts.hideUnusedTray&&(e=0,i.nextUntil().filter(":visible").each(function(){e+=n(this).outerHeight()}),e<n(t).height()?i.hide():i.show()),i.css({top:n(t).scrollTop()}))}};n.fn.customScroll=function(i){var u=this,r;if(typeof i=="undefined"&&n(this).data("customScrollInit",!1),t[i])r=n.extend([],arguments),r.shift(),t[i].apply(this,r);else if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.customScroll");else return t.init.apply(this,arguments)}}(jQuery),function(n){var t={html:"<div class='loadingOverlay'>\t\t\t\t\t<div class='loadingOverlaySpinner'>\t\t\t\t\t\t<div class='loaderLargeSlice loaderSlice'>\t\t\t\t\t\t<\/div>\t\t\t\t\t\t<div class='loaderSmallSlice loaderSlice'>\t\t\t\t\t\t<\/div>\t\t\t\t\t<\/div>\t\t\t\t<\/div>",delayBeforeAppear:0,onStartLoading:function(){},onFinishLoading:function(){},startOnInit:!0,size:100,top:"50%",left:"50%",zIndex:99,colorMode:"default",background:!1,preventDuplicate:!0,destroyOnStop:!0,fadeSpeed:150},i=function(i){return this.each(function(){var r=this,f,u;n(this).data("alreadyLoaded","false");n(this).data("timeout",null);f={exists:function(){return r.$loader!=undefined?!!r.$loader.length:!1},start:function(){typeof r.opts!="undefined"&&(typeof r.opts.onStartLoading=="function"&&r.opts.onStartLoading(),n(r).data("timeout",setTimeout(function(){n(r).data("alreadyLoaded")!=="true"&&r.$loader.fadeIn(r.opts.fadeSpeed)},r.opts.delayBeforeAppear)))},stop:function(){typeof r.opts!="undefined"&&(n(r).data("alreadyLoaded","true"),typeof r.opts.onFinishLoading=="function"&&r.opts.onFinishLoading(),clearTimeout(n(r).data("timeout")),r.$loader!==undefined&&r.$loader.fadeOut(r.opts.fadeSpeed,function(){r.opts.destroyOnStop&&typeof r.$loader!="undefined"&&r.$loader.remove()}))},destroy:function(){typeof r.$loader!="undefined"&&r.$loader.remove()}};typeof i=="object"||typeof i=="undefined"?(this.opts=n.extend({},t,i),this.opts.preventDuplicate&&(!this.opts.preventDuplicate||n(this).children(".loadingOverlay").length)||n(this).prepend(this.opts.html),r.$loader=n(this).children(".loadingOverlay"),this.opts.colorMode!=="default"&&r.$loader.addClass(this.opts.colorMode),this.opts.background||r.$loader.addClass("noBackground"),u=r.opts.size,r.$loader.css({zIndex:r.opts.zIndex}),r.$loader.find(".loadingOverlaySpinner, .loaderLargeSlice, .loaderSmallSlice").css({width:u,height:u,top:r.opts.top,left:r.opts.left,marginLeft:u/-2,marginTop:u/-2}),r.$loader.find(".loaderLargeSlice, .loaderSmallSlice").css({top:r.opts.top,left:r.opts.left}),r.opts.startOnInit&&f.start.apply(this,[])):typeof f[i]!="undefined"&&f[i].apply(this,[])})};n.fn.destinyLoader=function(){Modernizr.csstransitions&&i.apply(this,arguments)}}(jQuery);ExtraInfoTip=function(n,t,i){(this.$trigger=n,this.$popout=t,this.$trigger.length<1||this.$popout.length<1)||(this.config={corner:"BL",offsetX:20,offsetY:20,onScreen:!1,delayTime:0,fadeIn:0,stationary:!1,skipInitialMouseover:!1,requiresParent:null,absoluteX:{left:"",right:""},absoluteY:{top:"",bottom:""},closeOnBodyClick:!0},i&&$.extend(this.config,i),this.showing=!1,this.$body=Modernizr.safari?$("body"):$("html"),this.config.onScreen&&this.config.corner==""&&(this.config.corner="BL"),this.initialize())};ExtraInfoTip.prototype.initialize=function(){var n=this,t=this.$trigger.find(".css_popout");t.length&&t.each(function(){var i=$(this),r=i.clone(),u=n.$trigger.has(this).get(0),t=n.$popout.clone();$content_popout=t.find(".content_popout");$content_popout.append(r.contents());t.addClass("cloned "+i.attr("data-class")).attr("id","").append($content_popout);$.data(u,"popout",t)});this.addMouseoverListeners()};ExtraInfoTip.prototype.addMouseoverListeners=function(){var n=this,t;this.$trigger.bind("mouseenter.extraInfoTip",function(t){var i=n.config.requiresParent!==null?n.$trigger.parents(n.config.requiresParent).length:1;!$(".cloned").length&&i&&n.mouseoverHandler(t)});this.config.skipInitialMouseover&&(t=setTimeout(function(){n.$trigger.triggerHandler("mouseenter.extraInfoTip")},1),this.$trigger.bind("mouseleave.skipEvent",function(){var n=$(this);clearTimeout(t);n.triggerHandler("mouseleave.extraInfoTip");n.unbind("mouseleave.skipEvent")}))};ExtraInfoTip.prototype.addPostMouseoverListeners=function(n){var t=this;this.$trigger.bind("mousemove.extraInfoTip",function(i){t.positionPopout(i,n)});this.addMouseoutListeners(n)};ExtraInfoTip.prototype.addMouseoutListeners=function(n){var t=this;this.$trigger.bind("mouseleave.extraInfoTip",function(i){t.closeHandler(i,n);t.$trigger.unbind("mousemove.extraInfoTip mouseleave.extraInfoTip")})};ExtraInfoTip.prototype.mouseoverHandler=function(n){var t=this.definePopout(n,n.delegateTarget),i;this.config.stationary?(this.$trigger.unbind("mousemove.extraInfoTip"),this.addBodyCloseListener(t),this.addMouseoutListeners(t)):this.addPostMouseoverListeners(t);this.config.skipInitialMouseover&&(this.config.skipInitialMouseover=!1,i=this,this.showPopout(n,t))};ExtraInfoTip.prototype.addBodyCloseListener=function(n){var t=this;this.config.closeOnBodyClick&&this.$body.bind("click.extraInfoTip",function(i){var r=n.find("*").andSelf();$(i.target).is(r)||(t.closeHandler(i,n),t.addMouseoverListeners(),t.$body.unbind("click.extraInfoTip"))})};ExtraInfoTip.prototype.closeHandler=function(n,t){clearTimeout(self.showDelay);t.removeClass("active");t.hide();t.remove();this.showing=!1};ExtraInfoTip.prototype.definePopout=function(n,t){var i=null;return typeof $.data(t,"popout")!="undefined"?(i=$.data(t,"popout"),$("body").append(i),this.getDimensions(i)):(i=this.$popout.clone().addClass("loadingPopout cloned").attr("id",""),$("body").append(i),this.getDimensions(i),this.loadContent(i,t)),this.showPopout(n,i),i};ExtraInfoTip.prototype.loadContent=function(n,t){n.find(".content_popout").append("<p><strong>ERROR<\/strong> - there was nothing loaded into this popout.<\/p><p>The loadContent function needs to be customized for this ExtraInfoTip instance - see documentation<\/p>");this.showing&&self.expandForContent(n);n.removeClass("loadingPopout");$.data(t,"popout",n)};ExtraInfoTip.prototype.expandForContent=function(n){var e=this,r=n.offset(),u=r.top,f=n.outerHeight(),t,i;n.removeClass("loadingPopout");t=n.outerHeight();i=u-t+f;n.css("top",i+"px")};ExtraInfoTip.prototype.getDimensions=function(){if(this.config.onScreen){var n=$(window);this.windowWidth=n.width();this.windowHeight=n.height()}};ExtraInfoTip.prototype.showPopout=function(n,t){var i=this;this.$trigger.is("[title]")&&this.$trigger.attr("title","");this.showing||(this.showing=!0,this.config.delayTime>0&&!this.config.skipInitialMouseover?(clearTimeout(this.showDelay),this.showDelay=setTimeout(function(){t.show();t.addClass("active")},this.config.delayTime)):this.config.fadeIn>0?(t.show(),t.addClass("active")):t.show(),this.positionPopout(n,t))};ExtraInfoTip.prototype.positionPopout=function(n,t){var f=n.pageX||this.$trigger.offset().left,s=n.pageY||this.$trigger.offset().top,i=0,r=0,e=t.outerHeight(),u=t.outerWidth(),h;switch(this.config.corner){case"BR":i+=s-e-this.config.offsetY;r+=f-u-this.config.offsetX;break;case"TL":i+=s+this.config.offsetY;r+=f+this.config.offsetX;break;case"TR":i+=s+this.config.offsetY;r+=f-u-this.config.offsetX;break;default:i+=s-e-this.config.offsetY;r+=f+this.config.offsetX}if(this.config.onScreen&&(h=$(".Nav_Top").height(),this.windowWidth>u*1.05&&this.windowHeight>e+h)){var c=$(window).scrollTop(),o=$(window).scrollLeft(),l=c+h,a=!1;f>this.windowWidth/2+o&&(a=!0);i<l?i=l:i+e>c+this.windowHeight&&(i=c+this.windowHeight-e);r<o?r=o+this.config.offsetX:r+u>this.windowWidth+o&&(r=a==!0?f-u-this.config.offsetX:o+this.windowWidth-u-this.config.offsetX)}this.config.absoluteX.left!==""?r=this.config.absoluteX.left:this.config.absoluteX.right!==""&&(r=this.windowWidth-u-this.config.absoluteX.right);this.config.absoluteY.top!==""?i=this.config.absoluteY.top:this.config.absoluteY.bottom!==""&&(i=this.windowHeight-e-this.config.absoluteY.bottom);Utility.moveElement(r,i,t.get(0))};LightBox=function(n,t,i){(this.$triggers=n,this.$lightbox=t,this.$lightbox.length<1)||(this.hasTriggers=!0,n===null&&(this.hasTriggers=!1),this.config={hasCloseButton:!1,$pagerButtons:{prev:null,next:null},pager:"hover"},i&&$.extend(this.config,i),this.$lightbox.find(".btn_close").length&&(this.config.hasCloseButton=!0),this.hasPager=!1,this.config.$pagerButtons.next!==null&&this.config.$pagerButtons.prev!==null&&(this.hasPager=!0,this.$next=this.config.$pagerButtons.next,this.$prev=this.config.$pagerButtons.prev),this.hasInnerContent=!1,this.$innerContent=this.$lightbox.find(".innerContent"),this.$content=this.$lightbox.find(".content"),this.$innerContent.length&&(this.hasInnerContent=!0),this.$preloader=this.$lightbox.find(".preloader"),this.initialize())};LightBox.prototype.initialize=function(){this.addEventListeners()};LightBox.prototype.addWindowEventListeners=function(){var n=this;$(window).on("resize.lightBox",function(){n.positionContent()});$(window).on("scroll.lightBox",function(){Modernizr.ipad&&(!Modenizr.ipad||n.$lightbox.contains(document.activeElement))||n.positionContent()})};LightBox.prototype.removeWindowEventListeners=function(){var n=this;$(window).off(".lightBox")};LightBox.prototype.addEventListeners=function(){var n=this;this.hasTriggers&&this.$triggers.bind("click.lightBox",function(t){t.stopImmediatePropagation();t.preventDefault();n.index=n.$triggers.index($(this));n.$lightbox.is(":hidden")&&n.showLightbox();n.loadLightbox(t.target)});this.config.hasCloseButton?this.$lightbox.bind("click.lightBox",function(t){if($(".btn_close").is(t.target))t.preventDefault(),this.id==="alert"&&$(this).hasClass("refresh")?window.location=window.location:n.closeLightbox();else if(this.hasPager)t.target!=n.$next.get(0)&&t.target!=n.$prev&&(t.preventDefault(),this.id==="alert"&&$(this).hasClass("refresh")?window.location=window.location:n.closeLightbox());else if(t.which!=2){if(n.$content.find("a, input, label, textarea").is($(t.target)))return;t.preventDefault();this.id==="alert"&&$(this).hasClass("refresh")?window.location=window.location:n.closeLightbox()}}):this.$lightbox.bind("click.lightBox",function(t){t.target!=n.$content.get(0)&&n.$content.has(t.target).length<1&&(t.preventDefault(),this.id==="alert"&&$(this).hasClass("refresh")?window.location=window.location:n.closeLightbox())});$(window).off("keydown.lightbox");$(window).on("keydown.lightbox",function(t){$(t.target).is("textarea")||$(".alert, #lightbox").is(":visible")&&t.which==13&&($("#"+document.activeElement.id).blur(),t.stopImmediatePropagation(),t.preventDefault(),n.closeLightbox())});this.hasPager&&(this.$next&&this.$next.bind("click.lightBox",function(n){n.stopImmediatePropagation();n.preventDefault();lightBox.next()}),this.$prev.length&&this.$prev.bind("click.lightBox",function(n){n.stopImmediatePropagation();n.preventDefault();lightBox.prev()}),this.config.pager==!0?(n.$next.show(),n.$prev.show()):this.config.pager==!1||this.$content.hover(function(){n.$next.show();n.$prev.show()},function(){n.$next.hide();n.$prev.hide()}))};LightBox.prototype.showLightbox=function(){this.$lightbox.fadeIn()};LightBox.prototype.showPreloader=function(){this.$preloader.CenterIt();this.$preloader.show()};LightBox.prototype.loadLightbox=function(n,t,i){var e=this,u,r,f,c;if(i||(this.addWindowEventListeners(),this.showPreloader()),u=this.$content,this.hasInnerContent&&(u=this.$innerContent),t)u.append(n),u.find("img").not("[alt='avatar']").length?u.find("img").load(function(){e.showContent()}):this.showContent();else if(r=$(n).attr("href"),typeof r=="undefined"&&(r=$(n).parent().attr("href")),f="",r!=""||typeof r!="undefined"){var o=r.split(".").pop();if(o.match(/jpg|png|gif|bmp/gi)&&(f="image"),o.match(/swf/gi)&&(f="flash"),o.match(/html|htm|aspx/gi)&&(f="html"),f=="image"||f=="flash"){var l=Utility.parseQueryString(o),s=l.width,h=l.height;u.css({width:s,height:h})}if(f=="image")c=!1,$("[src=contentLink]").length&&(c=!0),u.append('<img id="image_lightbox" src="'+Utility.ContentVersioned(r)+'" alt="bigger image" width="'+s+'" height="'+h+'" /><br /><a href="'+r+'" class="extraContent">Download<\/a>'),c?e.showContent():$("#image_lightbox").load(function(){e.showContent()});else if(f=="flash"){function a(n){n.success&&e.showContent()}u.append('<div id="flash_lightbox"><\/div>');var v={},y={wmode:"transparent"},p={};swfobject.embedSWF(r,"flash_lightbox",s,h,"9.0.0","expressInstall.swf",v,y,p,a)}else f=="html"&&(u.append('<div id="html_lightbox"><\/div>'),$("#html_lightbox").load(r+" #content",function(){e.showContent()}))}};LightBox.prototype.positionContent=function(){this.$content.CenterIt()};LightBox.prototype.showContent=function(){this.$preloader.hide();this.$lightbox.height($(document).height());this.$content.addClass("preAppear");this.hasInnerContent&&this.$innerContent.show();this.positionContent();this.$content.addClass("fadeIn")};LightBox.prototype.afterClose=function(){};LightBox.prototype.closeLightbox=function(){this.removeWindowEventListeners();this.$content.removeClass("preAppear fadeIn");this.$content.closest(".alert").length&&this.$content.closest(".alert").attr("class","alert");this.$lightbox.hide();this.clearContent();this.afterClose();this.afterClose=function(){}};LightBox.prototype.reload=function(n){var t=this.$content;this.hasInnerContent&&(t=this.$innerContent);t.hide();this.$content.removeClass("preAppear fadeIn");this.showPreloader();this.loadLightbox(n,!0,!0)};LightBox.prototype.clearContent=function(){var n=this.$content;this.hasInnerContent&&(n=this.$innerContent);n.hide();n.css({width:"",height:"",position:"",marginTop:"",top:"",left:""});this.hasPager?n.contents().not(this.$next,this.$prev).remove():n.empty()};LightBox.prototype.next=function(){this.clearContent();var n=this.index+1;n>this.$triggers.length-1&&(n=0);this.$triggers.eq(n).click()};LightBox.prototype.prev=function(){this.clearContent();var n=this.index-1;n<0&&(n=-1);this.$triggers.eq(n).click()};PanelSlider_circular=function(n,t){var r,i;if(this.$element=n.eq(0),!(this.$element.length<1)&&!(this.$element.find("li")<1)){if(this.config={timed:!0,duration:500,delay:4e3,hasButtons:!0,csstransitions:!1,mappedButtons:null},t&&$.extend(this.config,t),this.$content=this.$element.find(".frame_panelSlider_circular > ul"),this.content=this.$content.get(0),this.$contentLi=this.$content.children("li"),this.csstransitions=this.config.csstransitions?Modernizr.csstransitions:!1,this.$mappedButtons=null,this.config.mappedButtons!==null){for(this.$mappedButtons=this.config.mappedButtons.elements,this.queue=0,this.initialQueue=0,r=this.$mappedButtons.length,i=0;i<r;i++)this.$mappedButtons.eq(i).data("panelId","panel_"+i),this.$contentLi.eq(i).data("panelId","panel_"+i);this.addMappedButtonListeners()}this.config.hasButtons&&(this.$navPrev=this.$element.find("a.prev"),this.$navNext=this.$element.find("a.next"),this.addButtonListeners());this.initialize()}};PanelSlider_circular.prototype.initialize=function(){var n=this;this.$element.addClass("panelSlider_circular");this.singleWidth=this.$element.width();this.numberOfPanels=this.$contentLi.length;this.numberOfPanels===2&&(this.$content.append('<li class="empty"><\/li>'),this.numberOfPanels=3,this.$contentLi=this.$contentLi.add(".empty"));this.csstransitions&&this.setupTransitions();this.currentPosition=0;this.$contentLi.get(this.currentPosition).style.display="";this.isMoving=!1;this.slideInterval=this.config.timed?setInterval(function(){n.intervalSlidePanel()},this.config.delay):null;this.positionPanels();this.addEventListeners()};PanelSlider_circular.prototype.setupTransitions=function(){var n=this,t;this.transEndEventName=Utility.getTransitionEndName();t=Utility.getTransitionLongHand();this.content.style[t.transitionDuration]=this.config.duration+"ms";this.content.style[t.transitionTimingFunction]="ease-in";this.$content.bind(this.transEndEventName+".panelSlider_circular",function(){n.$content.removeClass("transitions");n.isMoving=!1;n.positionPanels();n.setSlideInterval()})};PanelSlider_circular.prototype.addMappedButtonListeners=function(){var n=this;this.$mappedButtons.bind("click.panelSlider_circular",function(t){if(t.preventDefault(),n.queue===0){var r=$(this),u=parseInt(r.data("panelId").replace("panel_","")),f=n.$contentLi.filter(".middlePanel"),e=parseInt(f.data("panelId").replace("panel_","")),i=e-u;n.queue=i;n.initialQueue=i;n.multipleSlides()}})};PanelSlider_circular.prototype.addButtonListeners=function(){var n=this;this.$navPrev.bind("click.panelSlider_circular",function(t){n.buttonClickedHandler(t,-1)});this.$navNext.bind("click.panelSlider_circular",function(t){n.buttonClickedHandler(t,1)})};PanelSlider_circular.prototype.buttonClickedHandler=function(n,t){n.stopImmediatePropagation();n.preventDefault();this.isMoving||(clearInterval(this.slideInterval),this.slidePanel(t))};PanelSlider_circular.prototype.addEventListeners=function(){var n=this;this.$content.hover(function(t){n.isMoving||(t.stopImmediatePropagation(),clearInterval(n.slideInterval))},function(){n.isMoving||(clearInterval(n.slideInterval),n.numberOfPanels>1&&n.setSlideInterval())});$(window).on("resize orientationchange",function(){n.singleWidth!==n.$element.width()&&(n.singleWidth=n.$element.width(),n.pause(),n.singleWidth=n.$element.width(),n.positionPanels(),n.unpause())})};PanelSlider_circular.prototype.positionPanels=function(){var r=this,n,t,i;this.numberOfPanels===1?(this.hideTheButtons(),this.$contentLi.get(0).style.display="block",this.$contentLi.addClass("middlePanel"),this.content.style.left=-this.singleWidth+"px"):this.numberOfPanels===2?(n=this.$contentLi.eq(this.currentPosition),t=n.siblings().eq(0),this.content.style.left=-this.singleWidth+"px",n.addClass("middlePanel").siblings(".middlePanel").removeClass("middlePanel"),n.removeClass("rightPanel").removeClass("leftPanel"),n.siblings(".leftPanel").removeClass("leftPanel"),n.siblings(".rightPanel").removeClass("rightPanel"),t.addClass("leftPanel")):(n=this.$contentLi.eq(this.currentPosition),t=this.currentPosition===0?this.$contentLi.eq(this.numberOfPanels-1):n.prev(),i=this.currentPosition===this.numberOfPanels-1?this.$contentLi.eq(0):n.next(),this.resetContent(),n.addClass("middlePanel").siblings(".middlePanel").removeClass("middlePanel"),t.addClass("leftPanel").siblings(".leftPanel").removeClass("leftPanel"),i.addClass("rightPanel").siblings(".rightPanel").removeClass("rightPanel"));this.$mappedButtons!==null&&this.$mappedButtons.eq(this.currentPosition).addClass("on").siblings(".on").removeClass("on");this.queue===0&&this.loadPanelContents(this.currentPosition)};PanelSlider_circular.prototype.resetContent=function(){this.csstransitions?Utility.moveElement(-this.singleWidth,0,this.content):this.content.style.left=-this.singleWidth+"px"};PanelSlider_circular.prototype.multipleSlides=function(){this.queue>0?(this.slidePanel(1),this.queue--):this.queue<0&&(this.slidePanel(-1),this.queue++)};PanelSlider_circular.prototype.slidePanel=function(n){var t=Utility.getTransitionLongHand(),i=0,r,u;Math.abs(this.queue)>0?(i=this.config.duration/Math.abs(this.initialQueue),this.content.style[t.transitionDuration]=i+"ms",this.content.style[t.transitionTimingFunction]="linear"):this.queue===0&&(this.content.style[t.transitionDuration]=this.config.duration+"ms",this.content.style[t.transitionTimingFunction]="ease-in",this.intitialQueue=0);r=this;this.$contentLi.is(".empty")?(n===-1?(this.$element.find(".leftPanel").addClass("rightPanel").removeClass("leftPanel"),this.$element.find(".empty").removeClass("rightPanel").addClass("leftPanel")):n===1&&(this.$element.find(".rightPanel").addClass("leftPanel").removeClass("rightPanel"),this.$element.find(".empty").removeClass("leftPanel").addClass("rightPanel")),this.currentPosition=this.currentPosition===1?0:1):(this.currentPosition=this.currentPosition-n,this.currentPosition===-1?this.currentPosition=this.numberOfPanels-1:this.currentPosition===this.numberOfPanels&&(this.currentPosition=0));this.csstransitions?(this.$content.addClass("transitions"),u=-this.singleWidth+n*this.singleWidth,Utility.moveElement(u,0,this.content)):this.$content.animate({left:parseInt(this.$content.css("left"))+n*this.singleWidth+"px"},i===0?this.config.duration:i,function(){r.isMoving=!1;r.positionPanels();r.setSlideInterval()});this.isMoving=!0};PanelSlider_circular.prototype.setSlideInterval=function(){var n=this,t;this.$mappedButtons!==null&&this.queue!==0?t=setTimeout(function(){n.multipleSlides()},1):this.config.timed&&(clearInterval(this.slideInterval),this.slideInterval=setInterval(function(){n.intervalSlidePanel()},this.config.delay))};PanelSlider_circular.prototype.intervalSlidePanel=function(){this.slidePanel(-1)};PanelSlider_circular.prototype.hideTheButtons=function(){clearInterval(this.slideInterval);this.$navPrev.hide();this.$navNext.hide()};PanelSlider_circular.prototype.showTheButtons=function(){this.numberOfPanels>1&&(this.setSlideInterval(),this.$navPrev.show(),this.$navNext.show())};PanelSlider_circular.prototype.loadPanelContents=function(n){var t=this.$contentLi.eq(n),i;t.find("img[data-src]").length&&(i=t.find("img[data-src]"),i.each(function(){var n=$(this);n.attr("src","");n.on("load",function(){$(this).parent(".spinner").removeClass("spinner")});n.attr("src",n.attr("data-src")).removeAttr("data-src")}))};PanelSlider_circular.prototype.pause=function(){clearInterval(this.slideInterval);this.isMoving=!0};PanelSlider_circular.prototype.unpause=function(){this.setSlideInterval();this.isMoving=!1};RangeSlider=function(n,t){if(this.$el=n,!(this.$el.length<1)){this.config={num_segments:5};t&&$.extend(this.config,t);this.handleIsMoving=!1;this.currentPos=null;this.$container_bar=this.$el.find(".container_bar");this.$bar=this.$el.find(".bar");this.$activeHandle;this.bar_boundary_left=this.$container_bar.offset().left;this.bar_boundary_right=this.bar_boundary_left+this.$container_bar.width();this.segments=[0];this.num_segments=this.config.num_segments;this.width_segment=this.$container_bar.width()/this.num_segments;for(var i=1;i<this.num_segments+1;i++)this.segments.push(this.width_segment*i);this.initialize()}};RangeSlider.prototype.initialize=function(){this.addMouseDownListener();this.setPositionValues()};RangeSlider.prototype.setPositionValues=function(){var n=this.$bar.position().left/this.width_segment,t=(this.$bar.width()+this.$bar.position().left)/this.width_segment;this.$el.find(".handle.left").attr("data-position",Math.round(n));this.$el.find(".handle.right").attr("data-position",Math.round(t))};RangeSlider.prototype.addMouseDownListener=function(){var n=this;this.$el.find(".handle").on("mousedown",function(t){t.preventDefault();n.handleMouseDownEvent(t,this)})};RangeSlider.prototype.addMouseMoveListener=function(){var n=this;$("body").on("mousemove.setHandlePosition",function(t){n.handleMouseMoveEvent(t,this)})};RangeSlider.prototype.addMouseResetListener=function(){var n=this;$("body").on("mouseleave.setHandlePosition",function(t){n.removeSetHandlePositionEvents(t,this)});$("body").on("mouseup.setHandlePosition",function(t){n.removeSetHandlePositionEvents(t,this)});this.$el.on("mouseleave.setHandlePosition",function(t){n.removeSetHandlePositionEvents(t,this)})};RangeSlider.prototype.removeSetHandlePositionEvents=function(){this.moveHandleToSnapPosition(this.getSnapPosition(this.$activeHandle.position().left),this.$activeHandle);$("body").off(".setHandlePosition");this.$el.off(".setHandlePosition");this.handleIsMoving=!1;this.currentPos=null};RangeSlider.prototype.handleMouseDownEvent=function(n,t){this.handleIsMoving||(this.$el.addClass("active"),this.$activeHandle=$(t),this.currentPos=n.pageX,this.addMouseMoveListener(),this.addMouseResetListener())};RangeSlider.prototype.handleMouseMoveEvent=function(n){n.preventDefault();this.handleIsMoving=!0;var t=this.$activeHandle,i=this.currentPos-n.pageX;this.currentPos>this.bar_boundary_right?(this.currentPos=this.bar_boundary_right,i=this.currentPos-n.pageX):this.currentPos<this.bar_boundary_left?(this.currentPos=this.bar_boundary_left,i=this.currentPos-n.pageX):this.currentPos=n.pageX;t.hasClass("left")?t.siblings(".handle").position().left-(t.position().left-i)<this.width_segment?(this.$bar.css({left:t.siblings(".handle").position().left-this.width_segment+"px",width:this.width_segment+"px"}),t.css("left",t.siblings(".handle").position().left-this.width_segment+"px")):this.$bar.position().left-i<0?(this.$bar.css("left","0"),t.css("left","0")):(this.$bar.css("left",this.$bar.position().left-i+"px"),this.$bar.css("width",this.$bar.width()+i+"px"),t.css("left",t.position().left-i+"px")):t.hasClass("right")&&(t.position().left-i-t.siblings(".handle").position().left<this.width_segment?(this.$bar.css({left:t.siblings(".handle").position().left+"px",width:this.width_segment+"px"}),t.css("left",t.siblings(".handle").position().left+this.width_segment+"px")):this.$bar.width()-i+this.$bar.position().left>this.$container_bar.width()?(this.$bar.css("width",this.$container_bar.width()-this.$bar.position().left),t.css("left","100%")):(this.$bar.css("width",this.$bar.width()-i+"px"),t.css("left",t.position().left-i+"px")))};RangeSlider.prototype.getSnapPosition=function(n){return Math.round(n*this.num_segments/this.$container_bar.width())};RangeSlider.prototype.moveHandleToSnapPosition=function(n,t){var i;t.siblings(".handle").position().left==this.segments[n]?(t.hasClass("left")?(i=this.segments[n-1>-1?n-1:0],this.$bar.css({width:t.siblings(".handle").position().left-i+"px",left:i})):t.hasClass("right")&&(i=this.segments[n+1<this.num_segments?n+1:this.num_segments],this.$bar.css("width",i-t.siblings(".handle").position().left+"px")),t.css("left",i+"px")):(t.hasClass("left")?(i=n==this.num_segments?this.segments[this.num_segments-1]:this.segments[n],this.$bar.css({width:t.siblings(".handle").position().left-i+"px",left:i})):t.hasClass("right")&&(i=this.segments[n]==0?this.segments[1]:this.segments[n],this.$bar.css("width",i-t.siblings(".handle").position().left+"px")),Bnet.log(n),t.css("left",this.segments[n]+"px").attr("data-position",n))};ScrollPaging=function(n,t){(this.$element=n.eq(0),this.$element.length<1)||(this.config={windowElement:$(window),isReversed:!1,loadingFunction:function(){}},t&&$.extend(this.config,t),this.windowElement=this.config.windowElement,this.loadingFunction=this.config.loadingFunction,this.isReversed=this.config.isReversed,this.initialize())};ScrollPaging.prototype.initialize=function(){this.$element.addClass("scrollPaging");this.isWorking=!1;this.setDimensions();this.addEventListeners()};ScrollPaging.prototype.setDimensions=function(){this.windowHeight=this.windowElement.height();this.elementHeight=this.$element.outerHeight();this.elementOffsetTop=this.$element.offset().top;this.elementOffsetTop=0};ScrollPaging.prototype.addEventListeners=function(){var n=this;this.windowElement.off("scroll.scrollPaging resize.scrollPaging");this.windowElement.on({"resize.scrollPaging":function(){n.setDimensions()},"scroll.scrollPaging":function(t){n.scrollHandler(t)}})};ScrollPaging.prototype.scrollHandler=function(){var n=this.windowElement.scrollTop();this.isReversed?n<=20&&(this.isWorking||(this.isWorking=!0,this.loadingFunction(),this.stopListening())):n+this.windowHeight>=this.elementHeight+this.elementOffsetTop-20&&(this.isWorking||(this.isWorking=!0,this.loadingFunction(),this.stopListening()))};ScrollPaging.prototype.stopListening=function(){this.windowElement.off(".scrollPaging")};ScrollPaging.prototype.scrollToTriggerPoint=function(n){var t=this;this.windowElement.scrollTop(n)};SimpleDialog=function(n){if(n)this.$el=n;else{Bnet.error("SimpleDialog: No element specified");return}this.width="auto";this.height="auto";this.top=0;this.left=0;this.marginTop=null;this.marginLeft=null;this.onOpen=function(){};this.onClose=function(){};this.onUpdate=function(){};this.autoPositionTop=!0;this.autoPositionLeft=!0;this.forceAutoWidth=!1;this.forceAutoHeight=!1;this.useClone=!0;this.autoOpen=!0;this.includeCloseButton=!0;this.closeButtonText="X";this.destroyOnClose=!1;this.destroyOnCloseDelay=500;this.disableUiOnOpen=!0;this.enableUiOnClose=!0;this.preventBodyScroll=!1;this.$parent=$("#content")};SimpleDialog.prototype.newId="";SimpleDialog.prototype.$parent=null;SimpleDialog.prototype.$container=null;SimpleDialog.prototype.$dialog=null;SimpleDialog.prototype.$contents=null;SimpleDialog.prototype.isOpen=!1;SimpleDialog.prototype.usePxWidth=!1;SimpleDialog.prototype.usePxHeight=!1;SimpleDialog.prototype.Init=function(){if(typeof this.$el.data("simpleDialog")!="undefined"){this.$el.data("simpleDialog").Open();return}this.createElements();this.parseSizes();this.$contents.show();this.addListeners();this.Update();this.autoOpen&&this.Open();this.storeData()};SimpleDialog.prototype.createElements=function(){var n=this,i="SimpleDialog",t;n.$el.attr("class")!=undefined&&n.$el.attr("class")!==""&&(i=n.$el.attr("class").replace(/\s/gi,"SimpleDialog ")+"SimpleDialog");t=n.$el.attr("id");this.newId=t+"DialogContainer";this.$container=$("<div class='simpleDialogContainer "+i+"' id='"+this.newId+"' data-id='"+t+"'/>");this.$dialog=$("<div class='simpleDialog'/>");this.$contents=this.useClone?this.$el.clone():this.$el;this.$contents.addClass("simpleDialogContent");this.includeCloseButton&&this.$dialog.prepend("<div class='closeSimpleDialog'><span>"+this.closeButtonText+"<\/span><\/div>");this.$dialog.append(this.$contents);this.$container.append(this.$dialog);this.$parent.append(this.$container);this.useClone||this.$el.data("originalid",t).attr("id","").hide()};SimpleDialog.prototype.Open=function(){if(!this.isOpen){this.isOpen=!0;this.$container.addClass("active");this.$dialog.addClass("active");this.disableUiOnOpen&&$("html").addClass("uiDisabled");this.onOpen(this);if(this.preventBodyScroll){var n="onmousewheel"in window?"mousewheel":"DOMMouseScroll";this.$container.on(n,function(n){n.preventDefault()})}}};SimpleDialog.prototype.Close=function(){if(this.isOpen){var n=this;this.isOpen=!1;this.$container.removeClass("active");this.$dialog.removeClass("active");this.enableUiOnClose&&$("html").removeClass("uiDisabled");this.onClose(this);this.destroyOnClose&&setTimeout(function(){n.$container.remove();n.$el.removeData("simpleDialog");n.$el.attr("id",n.$el.data("originalid"))},this.destroyOnCloseDelay)}};SimpleDialog.prototype.Update=function(){var u=this,n=0,t=0,i=this.marginTop,r=this.marginLeft;n=this.usePxWidth?this.width:this.width==="auto"?this.$dialog.width():this.width*$(window).width();t=this.usePxHeight?this.height:this.height==="auto"?this.$dialog.height():this.height*$(window).height();i===null&&(i=parseInt(t,10)*-.5);r===null&&(r=parseInt(n,10)*-.5);this.autoPositionTop||(i=this.top,this.$dialog.css("top",0));this.autoPositionLeft||(r=this.left,this.$dialog.css("left",0));t=this.forceAutoHeight?"auto":t;n=this.forceAutoWidth?"auto":n;this.$dialog.css({width:n,height:t,marginTop:i,marginLeft:r});this.onUpdate(this)};SimpleDialog.prototype.addListeners=function(){var n=this;$(window).on("resize",function(){n.Update()});$(document).on("keydown",function(t){t.which===27&&n.Close()});this.$container.on("click.close",function(t){t.target.id===n.newId&&n.Close()});this.$dialog.find(".closeSimpleDialog").on("click",function(){n.Close()})};SimpleDialog.prototype.storeData=function(){var n=this.$container[0];$(n).data("simpleDialog",this)};SimpleDialog.prototype.parseSizes=function(){typeof this.width=="number"?this.usePxWidth=!0:this.width!=="auto"&&(this.width=parseFloat(this.width)/100);typeof this.height=="number"?this.usePxHeight=!0:this.height!=="auto"&&(this.height=parseFloat(this.height)/100)};window.navigator.msMaxTouchPoints>1&&($("html").addClass("ietouch"),Modernizr.ietouch=!0,addMouseMoveListener=function(){$(document).on("MSPointerMove pointermove",function(n){n.originalEvent.pointerType!==n.originalEvent.MSPOINTER_TYPE_TOUCH&&($("html").addClass("iehover").removeClass("ietouch"),Modernizr.ietouch=!1)})},addPointerListeners=function(){$(document).on("MSPointerOver pointerover",function(n){n.originalEvent.pointerType==n.originalEvent.MSPOINTER_TYPE_TOUCH&&($("html").addClass("ietouch").removeClass("iehover"),Modernizr.ietouch=!0)})},addPointerListeners(),addMouseMoveListener())